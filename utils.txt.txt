utitlity functions for version 1